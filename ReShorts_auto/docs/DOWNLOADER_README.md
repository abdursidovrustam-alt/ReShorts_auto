# üì• –ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ (Video Downloader)

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: ‚úÖ –ì–û–¢–û–í (—Ç—Ä–µ–±—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞)

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

–ú–æ–¥—É–ª—å `video_processor/downloader.py` –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç:
- **yt-dlp** (–≤–µ—Ä—Å–∏—è 2025.10.14) - —Å–∞–º—ã–π –∞–∫—Ç—É–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å YouTube
- **Cookies-based –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è** - –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –Ω–∞–¥–µ–∂–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–±—Ö–æ–¥–∞ YouTube bot detection
- **iOS/Web player –∫–ª–∏–µ–Ω—Ç—ã** - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞ –æ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏

## üîß –û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç–µ —Ñ–∞–π–ª cookies.txt

**–ë–ï–ó –≠–¢–û–ì–û –®–ê–ì–ê –ó–ê–ì–†–£–ó–ö–ê –ù–ï –ë–£–î–ï–¢ –†–ê–ë–û–¢–ê–¢–¨!**

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è: **[COOKIES_SETUP.md](./COOKIES_SETUP.md)**

–ö—Ä–∞—Ç–∫–∞—è –≤–µ—Ä—Å–∏—è:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "Get cookies.txt LOCALLY" –≤ Chrome/Firefox
2. –û—Ç–∫—Ä–æ–π—Ç–µ youtube.com –∏ –≤–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ cookies –≤ —Ñ–∞–π–ª `cookies.txt`
4. –ü–æ–º–µ—Å—Ç–∏—Ç–µ —Ñ–∞–π–ª –≤ –∫–æ—Ä–µ–Ω—å –ø—Ä–æ–µ–∫—Ç–∞: `viral-shorts-master/cookies.txt`

### –®–∞–≥ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
cd viral-shorts-master
python test_downloader.py
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üç™ –ò—Å–ø–æ–ª—å–∑—É—é cookies –∏–∑ —Ñ–∞–π–ª–∞: cookies.txt
üì° –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ YouTube —á–µ—Ä–µ–∑ yt-dlp...
üîÑ –ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ...
‚úÖ –í–∏–¥–µ–æ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!
üì∫ –ù–∞–∑–≤–∞–Ω–∏–µ: [–Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ]
üíæ –§–∞–π–ª: downloads/[–Ω–∞–∑–≤–∞–Ω–∏–µ].mp4
```

## üìñ API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –ö–ª–∞—Å—Å VideoDownloader

```python
from video_processor.downloader import VideoDownloader

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
downloader = VideoDownloader(cookies_file='cookies.txt')

# –ó–∞–≥—Ä—É–∑–∫–∞ –æ–¥–Ω–æ–≥–æ –≤–∏–¥–µ–æ
result = downloader.download_video(
    video_url='https://www.youtube.com/shorts/XXXXXXXXX',
    output_path='downloads/',
    quality='highest'  # 'highest', '720p', '480p', '360p', '144p'
)

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
if result['success']:
    print(f"–§–∞–π–ª: {result['file_path']}")
    print(f"–ù–∞–∑–≤–∞–Ω–∏–µ: {result['title']}")
    print(f"–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: {result['duration']} —Å–µ–∫")
else:
    print(f"–û—à–∏–±–∫–∞: {result['error']}")
```

### –§—É–Ω–∫—Ü–∏—è download_video (—É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç)

```python
from video_processor.downloader import download_video

result = download_video(
    'https://www.youtube.com/shorts/XXXXXXXXX',
    output_path='downloads/',
    quality='highest',
    cookies_file='cookies.txt'
)
```

### –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∏–¥–µ–æ

```python
urls = [
    'https://www.youtube.com/shorts/VIDEO1',
    'https://www.youtube.com/shorts/VIDEO2',
    'https://www.youtube.com/shorts/VIDEO3',
]

downloader = VideoDownloader()
results = downloader.download_multiple_videos(urls, output_path='downloads/')

for i, result in enumerate(results):
    if result['success']:
        print(f"‚úÖ –í–∏–¥–µ–æ {i+1}: {result['title']}")
    else:
        print(f"‚ùå –í–∏–¥–µ–æ {i+1}: {result['error']}")
```

## üîç –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

```python
{
    'success': True,          # bool - —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ü–∏–∏
    'file_path': str,         # –ø—É—Ç—å –∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É
    'title': str,             # –Ω–∞–∑–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ
    'duration': int,          # –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
    'video_id': str,          # ID –≤–∏–¥–µ–æ –Ω–∞ YouTube
    'view_count': int,        # –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
    'resolution': str,        # —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä "1920x1080")
    'filesize_mb': float,     # —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ MB
    'error': str              # —Ç–µ–∫—Å—Ç –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ success=False)
}
```

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### 1. Cookies –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã
- –ë–µ–∑ —Ñ–∞–π–ª–∞ `cookies.txt` –∑–∞–≥—Ä—É–∑–∫–∞ –±—É–¥–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–∞ YouTube
- Cookies –Ω—É–∂–Ω–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å (–∫–∞–∂–¥—ã–µ 1-3 –º–µ—Å—è—Ü–∞)

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ù–ï –ø—É–±–ª–∏–∫—É–π—Ç–µ —Ñ–∞–π–ª `cookies.txt` –≤ Git
- –§–∞–π–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore`
- Cookies —Å–æ–¥–µ—Ä–∂–∞—Ç –≤–∞—à—É —Å–µ—Å—Å–∏—é YouTube - —Ö—Ä–∞–Ω–∏—Ç–µ –∏—Ö –≤ —Å–µ–∫—Ä–µ—Ç–µ!

### 3. –ß–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ù–µ –¥–µ–ª–∞–π—Ç–µ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–¥—Ä—è–¥
- YouTube –º–æ–∂–µ—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å IP –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –∏–Ω—Ç–µ—Ä–≤–∞–ª: –º–∏–Ω–∏–º—É–º 5-10 —Å–µ–∫—É–Ω–¥ –º–µ–∂–¥—É –∑–∞–≥—Ä—É–∑–∫–∞–º–∏

### 4. –õ–µ–≥–∞–ª—å–Ω–æ—Å—Ç—å
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ –≤–∏–¥–µ–æ –º–æ–∂–µ—Ç –Ω–∞—Ä—É—à–∞—Ç—å Terms of Service YouTube
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –¥–ª—è –ª–∏—á–Ω—ã—Ö, –Ω–µ–∫–æ–º–º–µ—Ä—á–µ—Å–∫–∏—Ö —Ü–µ–ª–µ–π
- –ù–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–π—Ç–µ —á—É–∂–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –±–µ–∑ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞

## üêõ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞: "—Ñ–∞–π–ª cookies –Ω–µ –Ω–∞–π–¥–µ–Ω"
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª `cookies.txt` –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

### –û—à–∏–±–∫–∞: "Sign in to confirm you're not a bot"
‚úÖ **–†–µ—à–µ–Ω–∏–µ:** 
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ cookies –∞–∫—Ç—É–∞–ª—å–Ω—ã (–≤–æ–π–¥–∏—Ç–µ –≤ YouTube –∏ –æ–±–Ω–æ–≤–∏—Ç–µ cookies)
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤–æ—à–ª–∏ –≤ –∞–∫–∫–∞—É–Ω—Ç YouTube –ø–µ—Ä–µ–¥ —ç–∫—Å–ø–æ—Ä—Ç–æ–º cookies

### –û—à–∏–±–∫–∞: "HTTP Error 403: Forbidden"
‚úÖ **–†–µ—à–µ–Ω–∏–µ:**
- Cookies —É—Å—Ç–∞—Ä–µ–ª–∏ - –æ–±–Ω–æ–≤–∏—Ç–µ –∏—Ö
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–æ–≤ - –ø–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VPN

### Permission error accessing plugins
‚ö†Ô∏è **–ò–∑–≤–µ—Å—Ç–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:** –≠—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å. –û–Ω–æ –Ω–µ –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞–±–æ—Ç—É –∑–∞–≥—Ä—É–∑—á–∏–∫–∞.

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [COOKIES_SETUP.md](./COOKIES_SETUP.md) - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ cookies
- [YOUTUBE_LIMITATION.md](./YOUTUBE_LIMITATION.md) - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è—Ö YouTube
- [yt-dlp –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://github.com/yt-dlp/yt-dlp)
- [yt-dlp FAQ](https://github.com/yt-dlp/yt-dlp/wiki/FAQ)

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ **–ú–æ–¥—É–ª—å –∑–∞–≥—Ä—É–∑–∫–∏** - –ì–æ—Ç–æ–≤ (—Ç—Ä–µ–±—É–µ—Ç—Å—è cookies.txt)
2. ‚è≥ **–ú–æ–¥—É–ª—å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ** - –í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
3. ‚è≥ **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
4. ‚è≥ **Flask –±—ç–∫–µ–Ω–¥** - –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è
