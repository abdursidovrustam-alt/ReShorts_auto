<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReShorts - –ù–∞—Å—Ç—Ä–æ–π–∫–∏</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .settings-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 2px solid #333;
        }

        .tab {
            padding: 12px 24px;
            background: #2a2a2a;
            border: none;
            color: white;
            cursor: pointer;
            transition: all 0.3s;
            border-radius: 8px 8px 0 0;
        }

        .tab.active {
            background: #FF6B6B;
            transform: translateY(2px);
        }

        .tab-content {
            display: none;
            animation: fadeIn 0.3s;
        }

        .tab-content.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .settings-section {
            background: #2a2a2a;
            padding: 25px;
            margin-bottom: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .settings-section h3 {
            color: #FF6B6B;
            margin-bottom: 20px;
            font-size: 1.3em;
            border-bottom: 2px solid #FF6B6B;
            padding-bottom: 10px;
        }

        .setting-item {
            margin-bottom: 20px;
        }

        .setting-item label {
            display: block;
            color: #ddd;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .setting-item input[type="text"],
        .setting-item input[type="number"],
        .setting-item select,
        .setting-item textarea {
            width: 100%;
            padding: 12px;
            background: #1a1a1a;
            border: 2px solid #444;
            color: white;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.3s;
        }

        .setting-item input:focus,
        .setting-item select:focus,
        .setting-item textarea:focus {
            outline: none;
            border-color: #FF6B6B;
            box-shadow: 0 0 10px rgba(255, 107, 107, 0.3);
        }

        .setting-item textarea {
            resize: vertical;
            min-height: 100px;
            font-family: monospace;
        }

        .checkbox-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }

        .checkbox-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }

        .priority-list {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .priority-item {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 12px;
            background: #1a1a1a;
            border-radius: 8px;
            border: 2px solid #444;
        }

        .priority-number {
            width: 40px;
            height: 40px;
            background: #FF6B6B;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
        }

        .priority-item label {
            flex: 1;
            margin: 0;
        }

        .btn {
            padding: 12px 30px;
            background: #FF6B6B;
            border: none;
            color: white;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .btn:hover {
            background: #ff5252;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: #4CAF50;
        }

        .btn-secondary:hover {
            background: #45a049;
        }

        .action-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
            justify-content: flex-end;
        }

        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 8px;
        }

        .status-indicator.active {
            background: #4CAF50;
            box-shadow: 0 0 10px #4CAF50;
        }

        .status-indicator.inactive {
            background: #999;
        }

        .help-text {
            font-size: 12px;
            color: #888;
            margin-top: 5px;
        }

        .back-link {
            display: inline-block;
            margin-bottom: 20px;
            color: #FF6B6B;
            text-decoration: none;
            font-weight: bold;
        }

        .back-link:hover {
            text-decoration: underline;
        }

        .toast {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            display: none;
            z-index: 1000;
            animation: slideIn 0.3s;
        }

        @keyframes slideIn {
            from {
                transform: translateX(400px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .toast.error {
            background: #f44336;
        }

        .toast.show {
            display: block;
        }
    </style>
</head>
<body>
    <div class="settings-container">
        <a href="index.html" class="back-link">‚Üê –ù–∞–∑–∞–¥ –∫ –≥–ª–∞–≤–Ω–æ–π</a>
        <h1>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ ReShorts</h1>
        
        <div class="toast" id="toast"></div>

        <div class="tabs">
            <button class="tab active" data-tab="search">üîç –ü–æ–∏—Å–∫</button>
            <button class="tab" data-tab="ai">ü§ñ AI –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã</button>
            <button class="tab" data-tab="download">üì• –°–∫–∞—á–∏–≤–∞–Ω–∏–µ</button>
            <button class="tab" data-tab="processing">‚ö° –û–±—Ä–∞–±–æ—Ç–∫–∞</button>
            <button class="tab" data-tab="scenarios">üìã –°—Ü–µ–Ω–∞—Ä–∏–∏</button>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –ü–æ–∏—Å–∫ -->
        <div class="tab-content active" id="search-tab">
            <div class="settings-section">
                <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ–∏—Å–∫–∞ –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
                
                <div class="setting-item">
                    <label>–ü–æ–∏—Å–∫–æ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã / –•–µ—à—Ç–µ–≥–∏:</label>
                    <textarea id="search_queries" placeholder="–í–≤–µ–¥–∏—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∏–ª–∏ —Ö–µ—à—Ç–µ–≥–∏, –∫–∞–∂–¥—ã–π —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏&#10;–ü—Ä–∏–º–µ—Ä:&#10;#viral&#10;funny cats&#10;#trending"></textarea>
                    <div class="help-text">–ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ —Ö–µ—à—Ç–µ–≥ —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏</div>
                </div>

                <div class="setting-item">
                    <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –Ω–∞ –∑–∞–ø—Ä–æ—Å:</label>
                    <input type="number" id="max_results" min="1" max="100" value="10">
                </div>

                <div class="setting-item">
                    <label>–ü–µ—Ä–∏–æ–¥ –ø–æ–∏—Å–∫–∞:</label>
                    <select id="date_range">
                        <option value="today">–°–µ–≥–æ–¥–Ω—è</option>
                        <option value="this_week">–≠—Ç–∞ –Ω–µ–¥–µ–ª—è</option>
                        <option value="this_month">–≠—Ç–æ—Ç –º–µ—Å—è—Ü</option>
                        <option value="this_year">–≠—Ç–æ—Ç –≥–æ–¥</option>
                        <option value="all_time">–í—Å–µ –≤—Ä–µ–º—è</option>
                    </select>
                </div>

                <div class="setting-item">
                    <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤:</label>
                    <input type="number" id="min_views" min="0" value="1000">
                </div>

                <div class="setting-item">
                    <label>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π engagement rate (%):</label>
                    <input type="number" id="min_engagement" min="0" max="100" step="0.1" value="5.0">
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: AI –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã -->
        <div class="tab-content" id="ai-tab">
            <div class="settings-section">
                <h3>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤</h3>
                <p style="color: #888; margin-bottom: 20px;">–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—Å—è –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä –ø—Ä–∏ –æ—à–∏–±–∫–µ</p>
                
                <div class="priority-list">
                    <div class="priority-item">
                        <div class="priority-number">1</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>GPT4Free</strong></div>
                            <div class="help-text">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º AI –º–æ–¥–µ–ª—è–º</div>
                        </label>
                        <input type="checkbox" id="ai_gpt4free_enabled" checked>
                    </div>

                    <div class="priority-item">
                        <div class="priority-number">2</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>OpenRouter (DeepSeek)</strong></div>
                            <div class="help-text">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ OpenRouter</div>
                        </label>
                        <input type="checkbox" id="ai_openrouter_enabled" checked>
                    </div>

                    <div class="priority-item">
                        <div class="priority-number">3</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>Google Gemini</strong></div>
                            <div class="help-text">–ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π API –æ—Ç Google</div>
                        </label>
                        <input type="checkbox" id="ai_gemini_enabled" checked>
                    </div>

                    <div class="priority-item">
                        <div class="priority-number">4</div>
                        <label>
                            <div><span class="status-indicator inactive"></span><strong>LocalAI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</strong></div>
                            <div class="help-text">–õ–æ–∫–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞ –≤–∞—à–µ–º —Å–µ—Ä–≤–µ—Ä–µ</div>
                        </label>
                        <input type="checkbox" id="ai_localai_enabled">
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <h3>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AI</h3>
                
                <div class="setting-item">
                    <label>Timeout –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ (—Å–µ–∫—É–Ω–¥—ã):</label>
                    <input type="number" id="ai_timeout" min="10" max="300" value="30">
                </div>

                <div class="setting-item">
                    <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫:</label>
                    <input type="number" id="ai_max_retries" min="1" max="10" value="3">
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="ai_cache_enabled" checked>
                    <label>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤</label>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –°–∫–∞—á–∏–≤–∞–Ω–∏–µ -->
        <div class="tab-content" id="download-tab">
            <div class="settings-section">
                <h3>–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –º–µ—Ç–æ–¥–æ–≤ —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</h3>
                
                <div class="priority-list">
                    <div class="priority-item">
                        <div class="priority-number">1</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>yt-dlp</strong></div>
                            <div class="help-text">–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–ª—è YouTube, TikTok –∏ –¥—Ä—É–≥–∏—Ö</div>
                        </label>
                        <input type="checkbox" id="dl_ytdlp_enabled" checked>
                    </div>

                    <div class="priority-item">
                        <div class="priority-number">2</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>Instagrapi</strong></div>
                            <div class="help-text">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–ª—è Instagram</div>
                        </label>
                        <input type="checkbox" id="dl_instagrapi_enabled" checked>
                    </div>

                    <div class="priority-item">
                        <div class="priority-number">3</div>
                        <label>
                            <div><span class="status-indicator active"></span><strong>TikTok Scraper</strong></div>
                            <div class="help-text">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ –¥–ª—è TikTok</div>
                        </label>
                        <input type="checkbox" id="dl_tiktok_enabled" checked>
                    </div>
                </div>
            </div>

            <div class="settings-section">
                <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</h3>
                
                <div class="setting-item">
                    <label>–ö–∞—á–µ—Å—Ç–≤–æ –≤–∏–¥–µ–æ:</label>
                    <select id="video_quality">
                        <option value="best">–õ—É—á—à–µ–µ</option>
                        <option value="1080p">1080p</option>
                        <option value="720p">720p</option>
                        <option value="480p">480p</option>
                    </select>
                </div>

                <div class="setting-item">
                    <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–ú–ë):</label>
                    <input type="number" id="max_file_size" min="10" max="1000" value="100">
                </div>

                <div class="setting-item">
                    <label>–ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–æ–∫:</label>
                    <input type="text" id="download_path" value="downloads">
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="download_subtitles">
                    <label>–°–∫–∞—á–∏–≤–∞—Ç—å —Å—É–±—Ç–∏—Ç—Ä—ã</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="download_thumbnail" checked>
                    <label>–°–∫–∞—á–∏–≤–∞—Ç—å –ø—Ä–µ–≤—å—é</label>
                </div>
            </div>

            <div class="settings-section">
                <h3>–ü—Ä–æ–∫—Å–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)</h3>
                
                <div class="checkbox-item">
                    <input type="checkbox" id="proxy_enabled">
                    <label>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ–∫—Å–∏</label>
                </div>

                <div class="setting-item">
                    <label>–ü—Ä–æ–∫—Å–∏ URL:</label>
                    <input type="text" id="proxy_url" placeholder="http://proxy.example.com:8080">
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –û–±—Ä–∞–±–æ—Ç–∫–∞ -->
        <div class="tab-content" id="processing-tab">
            <div class="settings-section">
                <h3>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≤–∏–¥–µ–æ</h3>
                
                <div class="setting-item">
                    <label>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∫–ª–∏–ø–æ–≤ (—Å–µ–∫—É–Ω–¥—ã):</label>
                    <input type="number" id="clip_duration" min="5" max="60" value="30">
                </div>

                <div class="setting-item">
                    <label>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∏–ø–æ–≤ –Ω–∞ –≤–∏–¥–µ–æ:</label>
                    <input type="number" id="clips_per_video" min="1" max="10" value="3">
                </div>

                <div class="setting-item">
                    <label>–§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞:</label>
                    <select id="output_format">
                        <option value="mp4">MP4</option>
                        <option value="webm">WebM</option>
                        <option value="mkv">MKV</option>
                    </select>
                </div>

                <div class="setting-item">
                    <label>–ë–∏—Ç—Ä–µ–π—Ç –≤–∏–¥–µ–æ (kbps):</label>
                    <input type="number" id="video_bitrate" min="500" max="10000" value="2500">
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="auto_crop" checked>
                    <label>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ (9:16 –¥–ª—è Shorts)</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="add_watermark">
                    <label>–î–æ–±–∞–≤–∏—Ç—å –≤–æ–¥—è–Ω–æ–π –∑–Ω–∞–∫</label>
                </div>
            </div>

            <div class="settings-section">
                <h3>–§–∏–ª—å—Ç—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞</h3>
                
                <div class="checkbox-item">
                    <input type="checkbox" id="filter_duplicates" checked>
                    <label>–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –¥—É–±–ª–∏–∫–∞—Ç—ã</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="filter_low_quality" checked>
                    <label>–§–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –Ω–∏–∑–∫–æ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç</label>
                </div>

                <div class="setting-item">
                    <label>–ò—Å–∫–ª—é—á–∏—Ç—å —Å–ª–æ–≤–∞ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é):</label>
                    <textarea id="exclude_keywords" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: —Ä–µ–∫–ª–∞–º–∞, sponsored, ad"></textarea>
                </div>
            </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∞: –°—Ü–µ–Ω–∞—Ä–∏–∏ -->
        <div class="tab-content" id="scenarios-tab">
            <div class="settings-section">
                <h3>–°—Ü–µ–Ω–∞—Ä–∏–∏ —Ä–∞–±–æ—Ç—ã</h3>
                <p style="color: #888; margin-bottom: 20px;">–í—ã–±–µ—Ä–∏—Ç–µ, –∫–∞–∫–∏–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏</p>
                
                <div class="checkbox-item">
                    <input type="checkbox" id="scenario_auto_search" checked>
                    <label><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫</strong> - –∏—Å–∫–∞—Ç—å –Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="scenario_auto_download" checked>
                    <label><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ</strong> - —Å–∫–∞—á–∏–≤–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –≤–∏–¥–µ–æ</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="scenario_auto_analyze" checked>
                    <label><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑</strong> - –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–∫–∞—á–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ —Å –ø–æ–º–æ—â—å—é AI</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="scenario_auto_process">
                    <label><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞</strong> - —Å–æ–∑–¥–∞–≤–∞—Ç—å –∫–ª–∏–ø—ã –∏–∑ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ</label>
                </div>

                <div class="setting-item">
                    <label>–ò–Ω—Ç–µ—Ä–≤–∞–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–º–∏–Ω—É—Ç—ã):</label>
                    <input type="number" id="auto_run_interval" min="5" max="1440" value="60">
                    <div class="help-text">0 = –æ—Ç–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫</div>
                </div>
            </div>

            <div class="settings-section">
                <h3>–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</h3>
                
                <div class="checkbox-item">
                    <input type="checkbox" id="notify_on_complete" checked>
                    <label>–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏</label>
                </div>

                <div class="checkbox-item">
                    <input type="checkbox" id="notify_on_error" checked>
                    <label>–£–≤–µ–¥–æ–º–ª—è—Ç—å –æ–± –æ—à–∏–±–∫–∞—Ö</label>
                </div>
            </div>
        </div>

        <div class="action-buttons">
            <button class="btn btn-secondary" onclick="loadSettings()">üîÑ –°–±—Ä–æ—Å–∏—Ç—å</button>
            <button class="btn btn-secondary" onclick="exportSettings()">üì§ –≠–∫—Å–ø–æ—Ä—Ç</button>
            <button class="btn btn-secondary" onclick="importSettings()">üì• –ò–º–ø–æ—Ä—Ç</button>
            <button class="btn" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
        </div>
    </div>

    <script>
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                const tabName = tab.dataset.tab;
                
                // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
                
                // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –≤–∫–ª–∞–¥–∫—É
                tab.classList.add('active');
                document.getElementById(`${tabName}-tab`).classList.add('active');
            });
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showToast(message, isError = false) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.toggle('error', isError);
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å —Å–µ—Ä–≤–µ—Ä–∞
        async function loadSettings() {
            try {
                const response = await fetch('/api/config/get');
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫');
                
                const config = await response.json();
                
                // –ü–æ–∏—Å–∫
                document.getElementById('search_queries').value = config.search?.queries?.join('\n') || '';
                document.getElementById('max_results').value = config.search?.max_results || 10;
                document.getElementById('date_range').value = config.search?.date_range || 'this_week';
                document.getElementById('min_views').value = config.search?.min_views || 1000;
                document.getElementById('min_engagement').value = config.search?.min_engagement || 5.0;
                
                // AI –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
                document.getElementById('ai_gpt4free_enabled').checked = config.ai?.providers?.gpt4free?.enabled !== false;
                document.getElementById('ai_openrouter_enabled').checked = config.ai?.providers?.openrouter?.enabled !== false;
                document.getElementById('ai_gemini_enabled').checked = config.ai?.providers?.gemini?.enabled !== false;
                document.getElementById('ai_localai_enabled').checked = config.ai?.providers?.localai?.enabled || false;
                document.getElementById('ai_timeout').value = config.ai?.timeout || 30;
                document.getElementById('ai_max_retries').value = config.ai?.max_retries || 3;
                document.getElementById('ai_cache_enabled').checked = config.ai?.cache_enabled !== false;
                
                // –°–∫–∞—á–∏–≤–∞–Ω–∏–µ
                document.getElementById('dl_ytdlp_enabled').checked = config.download?.methods?.ytdlp?.enabled !== false;
                document.getElementById('dl_instagrapi_enabled').checked = config.download?.methods?.instagrapi?.enabled !== false;
                document.getElementById('dl_tiktok_enabled').checked = config.download?.methods?.tiktok?.enabled !== false;
                document.getElementById('video_quality').value = config.download?.video_quality || 'best';
                document.getElementById('max_file_size').value = config.download?.max_file_size || 100;
                document.getElementById('download_path').value = config.download?.path || 'downloads';
                document.getElementById('download_subtitles').checked = config.download?.subtitles || false;
                document.getElementById('download_thumbnail').checked = config.download?.thumbnail !== false;
                document.getElementById('proxy_enabled').checked = config.download?.proxy?.enabled || false;
                document.getElementById('proxy_url').value = config.download?.proxy?.url || '';
                
                // –û–±—Ä–∞–±–æ—Ç–∫–∞
                document.getElementById('clip_duration').value = config.processing?.clip_duration || 30;
                document.getElementById('clips_per_video').value = config.processing?.clips_per_video || 3;
                document.getElementById('output_format').value = config.processing?.output_format || 'mp4';
                document.getElementById('video_bitrate').value = config.processing?.video_bitrate || 2500;
                document.getElementById('auto_crop').checked = config.processing?.auto_crop !== false;
                document.getElementById('add_watermark').checked = config.processing?.add_watermark || false;
                document.getElementById('filter_duplicates').checked = config.processing?.filter_duplicates !== false;
                document.getElementById('filter_low_quality').checked = config.processing?.filter_low_quality !== false;
                document.getElementById('exclude_keywords').value = config.processing?.exclude_keywords?.join(', ') || '';
                
                // –°—Ü–µ–Ω–∞—Ä–∏–∏
                document.getElementById('scenario_auto_search').checked = config.scenarios?.auto_search !== false;
                document.getElementById('scenario_auto_download').checked = config.scenarios?.auto_download !== false;
                document.getElementById('scenario_auto_analyze').checked = config.scenarios?.auto_analyze !== false;
                document.getElementById('scenario_auto_process').checked = config.scenarios?.auto_process || false;
                document.getElementById('auto_run_interval').value = config.scenarios?.auto_run_interval || 60;
                document.getElementById('notify_on_complete').checked = config.scenarios?.notify_on_complete !== false;
                document.getElementById('notify_on_error').checked = config.scenarios?.notify_on_error !== false;
                
                showToast('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
            } catch (error) {
                console.error('Error loading settings:', error);
                showToast('‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫', true);
            }
        }

        // –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
        async function saveSettings() {
            try {
                const config = {
                    search: {
                        queries: document.getElementById('search_queries').value.split('\n').filter(q => q.trim()),
                        max_results: parseInt(document.getElementById('max_results').value),
                        date_range: document.getElementById('date_range').value,
                        min_views: parseInt(document.getElementById('min_views').value),
                        min_engagement: parseFloat(document.getElementById('min_engagement').value)
                    },
                    ai: {
                        providers: {
                            gpt4free: { enabled: document.getElementById('ai_gpt4free_enabled').checked },
                            openrouter: { enabled: document.getElementById('ai_openrouter_enabled').checked },
                            gemini: { enabled: document.getElementById('ai_gemini_enabled').checked },
                            localai: { enabled: document.getElementById('ai_localai_enabled').checked }
                        },
                        timeout: parseInt(document.getElementById('ai_timeout').value),
                        max_retries: parseInt(document.getElementById('ai_max_retries').value),
                        cache_enabled: document.getElementById('ai_cache_enabled').checked
                    },
                    download: {
                        methods: {
                            ytdlp: { enabled: document.getElementById('dl_ytdlp_enabled').checked },
                            instagrapi: { enabled: document.getElementById('dl_instagrapi_enabled').checked },
                            tiktok: { enabled: document.getElementById('dl_tiktok_enabled').checked }
                        },
                        video_quality: document.getElementById('video_quality').value,
                        max_file_size: parseInt(document.getElementById('max_file_size').value),
                        path: document.getElementById('download_path').value,
                        subtitles: document.getElementById('download_subtitles').checked,
                        thumbnail: document.getElementById('download_thumbnail').checked,
                        proxy: {
                            enabled: document.getElementById('proxy_enabled').checked,
                            url: document.getElementById('proxy_url').value
                        }
                    },
                    processing: {
                        clip_duration: parseInt(document.getElementById('clip_duration').value),
                        clips_per_video: parseInt(document.getElementById('clips_per_video').value),
                        output_format: document.getElementById('output_format').value,
                        video_bitrate: parseInt(document.getElementById('video_bitrate').value),
                        auto_crop: document.getElementById('auto_crop').checked,
                        add_watermark: document.getElementById('add_watermark').checked,
                        filter_duplicates: document.getElementById('filter_duplicates').checked,
                        filter_low_quality: document.getElementById('filter_low_quality').checked,
                        exclude_keywords: document.getElementById('exclude_keywords').value.split(',').map(k => k.trim()).filter(k => k)
                    },
                    scenarios: {
                        auto_search: document.getElementById('scenario_auto_search').checked,
                        auto_download: document.getElementById('scenario_auto_download').checked,
                        auto_analyze: document.getElementById('scenario_auto_analyze').checked,
                        auto_process: document.getElementById('scenario_auto_process').checked,
                        auto_run_interval: parseInt(document.getElementById('auto_run_interval').value),
                        notify_on_complete: document.getElementById('notify_on_complete').checked,
                        notify_on_error: document.getElementById('notify_on_error').checked
                    }
                };
                
                const response = await fetch('/api/config/save', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(config)
                });
                
                if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫');
                
                showToast('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã');
            } catch (error) {
                console.error('Error saving settings:', error);
                showToast('‚ùå –û—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫', true);
            }
        }

        // –≠–∫—Å–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
        async function exportSettings() {
            try {
                const response = await fetch('/api/config/get');
                const config = await response.json();
                
                const dataStr = JSON.stringify(config, null, 2);
                const dataBlob = new Blob([dataStr], { type: 'application/json' });
                
                const url = URL.createObjectURL(dataBlob);
                const link = document.createElement('a');
                link.href = url;
                link.download = `reshorts-config-${new Date().toISOString().split('T')[0]}.json`;
                link.click();
                
                showToast('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã');
            } catch (error) {
                console.error('Error exporting settings:', error);
                showToast('‚ùå –û—à–∏–±–∫–∞ —ç–∫—Å–ø–æ—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫', true);
            }
        }

        // –ò–º–ø–æ—Ä—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫
        function importSettings() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = async (e) => {
                try {
                    const file = e.target.files[0];
                    const text = await file.text();
                    const config = JSON.parse(text);
                    
                    const response = await fetch('/api/config/save', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(config)
                    });
                    
                    if (!response.ok) throw new Error('–û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞');
                    
                    await loadSettings();
                    showToast('‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã');
                } catch (error) {
                    console.error('Error importing settings:', error);
                    showToast('‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫', true);
                }
            };
            
            input.click();
        }

        // –ó–∞–≥—Ä—É–∑–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.addEventListener('load', loadSettings);
    </script>
</body>
</html>
